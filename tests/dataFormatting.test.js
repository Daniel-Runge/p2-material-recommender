const { formatMaterials } = require("../helpers/dataFormatting");

describe("The function to format materials data", () => {
  test("Works on correct input", () => {
    const materials = [
      {
        MaterialID: 1,
        MaterialName: "CLRS",
        MaterialDescription: "Page 29",
        SensingLike: 12,
        IntuitiveLike: 473,
        VisualLike: 13,
        VerbalLike: 55,
        ActiveLike: 22,
        ReflectiveLike: 261,
        SequentialLike: 367,
        GlobalLike: 5,
        SensingDislike: 7,
        IntuitiveDislike: 379,
        VisualDislike: 3,
        VerbalDislike: 47,
        ActiveDislike: 1,
        ReflectiveDislike: 212,
        SequentialDislike: 300,
        GlobalDislike: 0,
        LearningGoalID: 1,
      },
      {
        MaterialID: 2,
        MaterialName: "YouTube",
        MaterialDescription: "MergeSort",
        SensingLike: 33,
        IntuitiveLike: 451,
        VisualLike: 55,
        VerbalLike: 64,
        ActiveLike: 9,
        ReflectiveLike: 264,
        SequentialLike: 353,
        GlobalLike: 4,
        SensingDislike: 3,
        IntuitiveDislike: 393,
        VisualDislike: 12,
        VerbalDislike: 41,
        ActiveDislike: 4,
        ReflectiveDislike: 191,
        SequentialDislike: 267,
        GlobalDislike: 1,
        LearningGoalID: 1,
      },
      {
        MaterialID: 3,
        MaterialName: "Exercises",
        MaterialDescription: "NA",
        SensingLike: 1,
        IntuitiveLike: 13,
        VisualLike: 21,
        VerbalLike: 1,
        ActiveLike: 32,
        ReflectiveLike: 2,
        SequentialLike: 32,
        GlobalLike: 12,
        SensingDislike: 1,
        IntuitiveDislike: 1,
        VisualDislike: 1,
        VerbalDislike: 1,
        ActiveDislike: 2,
        ReflectiveDislike: 4,
        SequentialDislike: 6,
        GlobalDislike: 1,
        LearningGoalID: 2,
      },
    ];
    const actual = formatMaterials(materials);
    expect(actual).toStrictEqual([
      {
        Active: 0.9565217391304348,
        MaterialDescription: "Page 29",
        Global: 1,
        Intuitive: 0.5551643192488263,
        MaterialID: 1,
        MaterialName: "CLRS",
        Reflective: 0.5517970401691332,
        Sensing: 0.631578947368421,
        Sequential: 0.5502248875562219,
        Verbal: 0.5392156862745098,
        Visual: 0.8125,
      },
      {
        Active: 0.6923076923076923,
        MaterialDescription: "MergeSort",
        Global: 0.8,
        Intuitive: 0.5343601895734598,
        MaterialID: 2,
        MaterialName: "YouTube",
        Reflective: 0.5802197802197803,
        Sensing: 0.9166666666666666,
        Sequential: 0.5693548387096774,
        Verbal: 0.6095238095238096,
        Visual: 0.8208955223880597,
      },
      {
        Active: 0.9411764705882353,
        MaterialDescription: "NA",
        Global: 0.9230769230769231,
        Intuitive: 0.9285714285714286,
        MaterialID: 3,
        MaterialName: "Exercises",
        Reflective: 0.3333333333333333,
        Sensing: 0.5,
        Sequential: 0.8421052631578947,
        Verbal: 0.5,
        Visual: 0.9545454545454546,
      },
    ]);
  });
});
